<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600"
          rel="stylesheet">
    <link href="../static/css/font-awesome.css" rel="stylesheet">
    <link href="../static/css/style.css" rel="stylesheet">
    <link href="../static/css/pages/dashboard.css" rel="stylesheet">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body id="body">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container"> <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span
                class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span> </a><a class="brand" href="templates_origin/index2.html">Huella Gestión</a>
            <div class="nav-collapse">
                <ul class="nav pull-right">
                    <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i
                            class="icon-cog"></i> Cuenta <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="perfil.html">Perfil</a></li>
                            <li><a href="{% url 'accounts:logout' %}">Cerrar Sesión</a></li>
                        </ul>
                    </li>
                </ul>
                <form class="navbar-search pull-right">
                    <input type="text" class="search-query" placeholder="Search">
                </form>
            </div>
            <!--/.nav-collapse -->
        </div>
        <!-- /container -->
    </div>
    <!-- /navbar-inner -->
</div>
<!-- /navbar -->
<div class="subnavbar">
    <div class="subnavbar-inner">
        <div class="container">
            <ul class="mainnav">
                <li class="active"><a href="empleado.html"><i class="icon-dashboard"></i><span>Inicio</span> </a> </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-folder-open"></i><span>Documentos</span> <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="documentos.html">Ver Documentos</a></li>
                        <li><a href="nuevo_documento_default.html">Crear Documento</a></li>
                    </ul>
                </li>
                <li><a href="tareas.html"><i class="icon-calendar"></i><span>Tareas</span> </a></li>
                <li class="dropdown"><a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-user"></i><span>Mi Cuenta</span> <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="perfil.html">Perfil</a></li>
                        <li><a href="templates_origin/faq.html">Cambiar Contraseña</a></li>
                        <li><a href="index.html">Cerrar Sesión</a></li>
                    </ul>
                </li>
                <li><a href="templates_origin/guidely.html"><i class="icon-facetime-video"></i><span>Tour</span> </a></li>
            </ul>

        </div>

        <!-- /container -->

    </div>

    <ol class="breadcrumb " >
        <div class="breadcrumb-title">
        <li class="active"><a href="#"><i class=" icon-caret-right"></i> Inicio</a> </li>
        </div>
    </ol>
    <!-- /subnavbar-inner -->
</div>
<!-- /subnavbar -->

<div class="main">

    <!-- Button for add bussiness -->


    <!-- List Bussiness -->
    <div class="main-inner">

        <div class="container">

            <div class="row" >


                    <div class="span3  procesos">
                        <ul class="nav nav-tabs nav-stacked ">
                            <li class="title-nav"><i class="icon-retweet" style="font-size: 18px"></i><h3 style="font-size: 16px;  font-weight: 800; padding-left: 5px;display: inline-block">PROCESOS</h3></li>
                            <li><a class="ver_proceso" href="#"> Direccion Estrategica</a></li>
                            <li><a class="ver_proceso" href="#"> Gestion de La calidad</a></li>
                            <li><a class="ver_proceso" href="#"> Gestion Financiera</a></li>
                            <li><a class="ver_proceso" href="#"> Recursos Humanos</a></li>
                            <li><a class="ver_proceso" href="#"> Gestion Administrativa</a></li>
                            <li><a class="ver_proceso not-active" href="#"> Recursos Humanos</a></li>
                            <li><a class="ver_proceso" href="#"> Gestion Logistica</a></li>
                            <li><a class="ver_proceso" href="#"> Gestion de la Informacion</a></li>
                            <li><a class="ver_proceso not-active" href="#">Proceso Deshabilitado</a></li>
                        </ul>
                    </div>


                <div class="span9">

                    <div class="contenido" id="contenido" style="">

                    </div>
                </div>



            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /main-inner -->
</div>
<!-- /main -->
<div class="extra">
    <div class="extra-inner">
        <div class="container">
            <div class="row">
                <div class="span3">
                    <h4>
                        About Free Admin Template</h4>
                    <ul>
                        <li><a href="javascript:;">Huella Logistica</a></li>
                        <li><a href="javascript:;">Recursos</a></li>
                        <li><a href="javascript:;">Nosotros</a></li>
                        <li><a href="javascript:;">Gestion</a></li>
                    </ul>
                </div>
                <!-- /span3 -->
                <div class="span3">
                    <h4>
                        Support</h4>
                    <ul>
                        <li><a href="javascript:;">Frequently Asked Questions</a></li>
                        <li><a href="javascript:;">Ask a Question</a></li>
                        <li><a href="javascript:;">Video Tutorial</a></li>
                        <li><a href="javascript:;">Feedback</a></li>
                    </ul>
                </div>
                <!-- /span3 -->
                <div class="span3">
                    <h4>
                        Something Legal</h4>
                    <ul>
                        <li><a href="javascript:;">Read License</a></li>
                        <li><a href="javascript:;">Terms of Use</a></li>
                        <li><a href="javascript:;">Privacy Policy</a></li>
                    </ul>
                </div>
                <!-- /span3 -->
                <div class="span3">
                    <h4>
                        Open Source jQuery Plugins</h4>
                    <ul>
                        <li><a href="http://www.egrappler.com">Open Source jQuery Plugins</a></li>
                        <li><a href="http://www.egrappler.com;">HTML5 Responsive Tempaltes</a></li>
                        <li><a href="http://www.egrappler.com;">Free Contact Form Plugin</a></li>
                        <li><a href="http://www.egrappler.com;">Flat UI PSD</a></li>
                    </ul>
                </div>
                <!-- /span3 -->
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /extra-inner -->
</div>

<!-- /extra -->
<div class="footer">
    <div class="footer-inner">
        <div class="container">
            <div class="row">
                <div class="span12"> &copy; 2013 <a href="http://www.egrappler.com/">Bootstrap Responsive Admin Template</a>. </div>
                <!-- /span12 -->
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /footer-inner -->
</div>
<!-- /footer -->
<!-- backbone templates -->
<script type="text/template" id="procesos">
    <div class="widget widget-table action-table" >
        <div class="widget-header"> <i class="icon-th-list"></i>
            <h3>DOCUMENTOS : <div style="display: inline-block" id="nombre_proceso"></div></h3>
            <a href="documentos.html" class="btn btn-success pull-right button-crear-proceso" style="margin-right: 25px;   margin-top: 6px;"><i class="btn-icon-only icon-plus-sign" style="color: white; vertical-align: middle"></i> Nuevo Documento</a>
        </div>
        <div id="buscar_documento" class="widget-header">
            <i class="icon-search"></i>
            <label class="search" style="">Buscar por:</label>
            <div class="control-group" style="display: inline-block">
                <div class="controls">
                    <label id="tipo_documento" class="radio inline search_by">
                        <input id="tipo_documento" type="radio"  name="radiobtns"> Tipo de Documento
                    </label>

                    <label id="nombre_documento" class="radio inline search_by">
                        <input id="nombre_documento" type="radio" name="radiobtns"> Nombre
                    </label>
                    <label id="fecha_documento" class="radio inline search_by">
                        <input  id="fecha_documento" type="radio" name="radiobtns"> Fecha de Publicación
                    </label>
                </div>	<!-- /controls -->
            </div> <!-- /control-group -->

        </div>
        <div  class="widget-header" id="input_busqueda" style="display: none; padding: 5px 13px 0px 13px"></div>
        <!-- /widget-header -->
        <div class="widget-content" >
            <table class="table table-striped table-bordered" >
                <thead>
                <tr>
                    <th> Código </th>
                    <th> Nombre </th>
                    <th> Tipo </th>
                    <th> Versión</th>
                    <th> Elaboró</th>
                    <th> Fecha de Emisión</th>
                    <th> Fecha de Publicación</th>
                    <th class="td-actions"> Archivo </th>
                </tr>
                </thead>
                <tbody>
                <tr id="ling">
                    <td> 0001</td>
                    <td> FORMATO DE CAPTURA DE CLIENTES </td>
                    <td> CARACTERIZACION </td>
                    <td> 1 </td>
                    <td> LUIS GUILLERMO BARRETO</td>
                    <td> 01/06/2015 </td>
                    <td> 01/06/2015 08:30 AM </td>
                    <td class="td-actions"><a href="javascript:;" class="btn btn-small btn-success"><i class="btn-icon-only icon-paper-clip"> </i></a></td>
                </tr>
                <tr id="ling">
                    <td> 0001</td>
                    <td> FORMATO DE CAPTURA DE CLIENTES </td>
                    <td> CARACTERIZACION </td>
                    <td> 1 </td>
                    <td> LUIS GUILLERMO BARRETO</td>
                    <td> 01/06/2015 </td>
                    <td> 01/06/2015 08:30 AM </td>
                    <td class="td-actions"><a title="archivo externo" href="javascript:;" class="btn btn-small btn-success"><i class="btn-icon-only icon-external-link"> </i></a></td>
                </tr>
                <tr id="ling">
                    <td> 0001</td>
                    <td> FORMATO DE CAPTURA DE CLIENTES </td>
                    <td> CARACTERIZACION </td>
                    <td> 1 </td>
                    <td> LUIS GUILLERMO BARRETO</td>
                    <td> 01/06/2015 </td>
                    <td> 01/06/2015 08:30 AM </td>
                    <td class="td-actions"><a href="javascript:;" class="btn btn-small btn-success"><i class="btn-icon-only icon-paper-clip"> </i></a></td>
                </tr>
                <tr id="ling">
                    <td> 0001</td>
                    <td> FORMATO DE CAPTURA DE CLIENTES </td>
                    <td> CARACTERIZACION </td>
                    <td> 1 </td>
                    <td> LUIS GUILLERMO BARRETO</td>
                    <td> 01/06/2015 </td>
                    <td> 01/06/2015 08:30 AM </td>
                    <td class="td-actions"><a href="javascript:;" class="btn btn-small btn-success"><i class="btn-icon-only icon-external-link"> </i></a></td>
                </tr>
                <tr id="ling">
                    <td> 0001</td>
                    <td> FORMATO DE CAPTURA DE CLIENTES </td>
                    <td> CARACTERIZACION </td>
                    <td> 1 </td>
                    <td> LUIS GUILLERMO BARRETO</td>
                    <td> 01/06/2015 </td>
                    <td> 01/06/2015 08:30 AM </td>
                    <td class="td-actions"><a href="javascript:;" class="btn btn-small btn-success"><i class="btn-icon-only icon-external-link"> </i></a></td>
                </tr>
                <tr id="ling">
                    <td> 0001</td>
                    <td> FORMATO DE CAPTURA DE CLIENTES </td>
                    <td> CARACTERIZACION </td>
                    <td> 1 </td>
                    <td> LUIS GUILLERMO BARRETO</td>
                    <td> 01/06/2015 </td>
                    <td> 01/06/2015 08:30 AM </td>
                    <td class="td-actions"><a href="javascript:;" class="btn btn-small btn-success"><i class="btn-icon-only icon-external-link"> </i></a></td>
                </tr>

                </tbody>
            </table>
        </div>
        <!-- /widget-content -->
    </div>


</script>

<script type="text/template" id="crear_proceso"></script>
<script type="text/template" id="ver_proceso"></script>

<script type="text/template" id="perfiles">Perfiles</script>
<script type="text/template" id="crear_perfil"></script>
<script type="text/template" id="ver_perfil"></script>

<script type="text/template" id="tareas">Tareas</script>
<script type="text/template" id="crear_tarea"></script>
<!-- /backbone templates -->

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../static/js/jquery-1.7.2.min.js"></script>
<script src="../static/js/underscore.js"></script>
<script src="../static/js/backbone-min.js"></script>
<script src="../static/js/excanvas.min.js"></script>
<script src="../static/js/chart.min.js" type="text/javascript"></script>

<script src="../static/js/bootstrap.js"></script>

<script language="javascript" type="text/javascript" src="../static/js/full-calendar/fullcalendar.min.js"></script>

<script src="../static/js/base.js"></script>

<script>
    $( document ).ready(function() {
        console.log('imprime');



        var EmpresaModel = Backbone.Model.extend({
            defaults: {
                nombre:'',
                nit: "",
                direccion: "",
                telefono1: "",
                telefono2: '',
                descripcion:'',
                sitio_web:'',
                activo: ""
            }
        });
        var empresas = Backbone.Collection.extend({
            model:EmpresaModel
        });
        var DocumentoModel = Backbone.Model.extend({
            defaults: {
                nombre:'',
                nit: "",
                direccion: "",
                telefono1: "",
                telefono2: '',
                descripcion:'',
                sitio_web:'',
                activo: ""
            }
        });
        var Documentos = Backbone.Collection.extend({
            model:DocumentoModel
        });
        var ProcesoModel = Backbone.Model.extend({
            defaults: {
                nombre:'',
                nit: "",
                direccion: "",
                telefono1: "",
                telefono2: '',
                descripcion:'',
                sitio_web:'',
                activo: ""
            }
        });
        var procesos = Backbone.Collection.extend({
            model:ProcesoModel
        });

        var EmpresaView = Backbone.View.extend({
            el: $('body'),
            container: $('#contenido'),
            empresa_model: new EmpresaModel(),
            proceso_model: new ProcesoModel(),
            procesos_template:_.template($('#procesos').html()),
            perfiles_template:_.template($('#perfiles').html()),
            tareas_template:_.template($('#tareas').html()),

            events: {

                "click .ver_proceso": "verProceso",
                "click #ver_tareas": "verTareas",
                "click .search_by": "buscarDocumento"


            },

            initialize: function () {
//                this.container.html('');
//                this.container.append(this.empleados_template(this.empresa_model.toJSON()));
//                return this;
            },

            render: function(){
                //this.container.html('');
                //this.container.append(this.procesos_template());

                return this;
            },
            verEmpleados: function (ev) {
                ev.preventDefault();
                var self =this
                this.container.html('');
                this.container.append(this.empleados_template());
                this.ifSmallDevice(this.container);

                return this;
            },
            verProceso: function (ev) {
                ev.preventDefault();
                titulo=$(ev.target).html();
                console.log(titulo);
                this.container.find('#nombre_proceso').html(titulo);
                this.container.html('');
                this.container.append(this.procesos_template());
                this.container.find('#nombre_proceso').html(titulo);
                this.ifSmallDevice(this.container);
                return this;
            },

            ifSmallDevice: function (container) {
                if($(window).width()<=768)
                    $("html, body").animate({ scrollTop: container.offset().top -15}, 1000);

            },
            eliminaItem: function (ev) {
                ev.preventDefault();
                var element=$(ev.target);

                if(element.hasClass('elimina-empleado')){
                    $('#eliminaEmpleado').modal('show');
                    console.log('empleado'+element.parent().parent().attr('id'))
                }else if(  element.parent().hasClass('elimina-empleado')){
                    $('#eliminaEmpleado').modal('show');
                    console.log('empleado'+element.parent().parent().parent().attr('id'))
                }
                if(element.hasClass('elimina-proceso')){
                    $('#eliminaProceso').modal('show');
                    console.log('proceso'+element.parent().parent().attr('id'))
                }else if(  element.parent().hasClass('elimina-proceso')){
                    $('#eliminaProceso').modal('show');
                    console.log('proceso'+element.parent().parent().parent().attr('id'))
                }

                if(element.hasClass('elimina-perfil')){
                    $('#eliminaPerfil').modal('show');
                    console.log('perfil'+element.parent().parent().attr('id'))
                }else if(  element.parent().hasClass('elimina-perfil')){
                    $('#eliminaPerfil').modal('show');
                    console.log('perfil'+element.parent().parent().parent().attr('id'))
                }

                if(element.hasClass('elimina-tarea')){
                    $('#eliminaTarea').modal('show');
                    console.log('tarea'+element.parent().parent().attr('id'))
                }else if(  element.parent().hasClass('elimina-tarea')){
                    $('#eliminaTarea').modal('show');
                    console.log('tarea'+element.parent().parent().parent().attr('id'))
                }
            },

            buscarDocumento: function (ev) {

                this.container.find('#input_busqueda').html('');
                this.container.find('#input_busqueda').css('display', 'block')

                if($(ev.target).attr('id')=='tipo_documento'){

                    this.container.find('#input_busqueda').html('<div class="span4"><select class="span4" style="margin-bottom: 0 !important;"><option>Caracterizacion</option><option>1</option><option>1</option></select>');
                    this.container.find('#input_busqueda').append('<button  style="display: inline-block; margin left: 8px;" >Buscar por tipo</button></div>');
                }

                else if($(ev.target).attr('id')=='nombre_documento'){

                    this.container.find('#input_busqueda').html('<div class="span4"><input class="span3" style="margin-bottom: 0 !important;" type="text">');
                    this.container.find('#input_busqueda').append('<button  style="display: inline-block; margin left: 8px;">Buscar por nombre</button></div>');
                }

                else if($(ev.target).attr('id')=='fecha_documento'){

                    this.container.find('#input_busqueda').html('<div class="span4"><input class="span3" style="margin-bottom: 0 !important;" type="date">');
                    this.container.find('#input_busqueda').append('<button  style="display: inline-block; margin left: 8px;" >Buscar por fecha</button></div>');
                }

            },
            creaProceso: function (ev) {
                ev.preventDefault();
                $('#creaProceso').modal('show');
            }

        });

        var view = new EmpresaView();
        view.render();
    });

</script>


</body>
</html>
